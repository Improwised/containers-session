<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Containers</title>
    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/black.css">
    <script src="plugin/copycode/copycode.js"></script>
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
    <style>
        #docker-logo {
            width: 100px;
        }

        .workshop-title {
            font-size: 40px;
        }

        .subtitle {
            font-size: 30px;
        }

        .content {
            text-align: left;
            font-size: 28px;
        }

        #improwised_logo {
            position: fixed;
            top: 20px;
            right: 20px;
            height: 75px;
        }
    </style>
</head>

<body>
    <div id="hidden">
        <div id="header">
            <img id="improwised_logo" src="https://www.improwised.com/img/logo.png" alt="Improwised Technologies">
        </div>
    </div>
    <div class="reveal">
        <div class="slides">
            <!-- Introduction -->
            <section data-auto-animate>
                <h2 class="workshop-title">Containers</h2>
                <h5 class="subtitle">Facilitators: Munir Khakhi & Chintan Viradiya</h5>
                <p>Slides: https://i8d.in/containers-slides</p>
            </section>

            <section>
                <section>
                    <h3> Who we are?</h3>
                    <p class="fragment">Improwised Technologies</p>
                    <p class="fragment">
                        We are a team of passionate engineers dedicated to building platforms that build the future.
                    </p>

                </section>
                <section>
                    <div style="display: flex; align-items: center; margin-top: 20px;">
                        <img src="./img/munir.jpg" alt="Munir Khakhi"
                            style="width: 100px; border-radius: 8px; margin-right: 20px;" />
                        <div style="font-size: 22px; text-align: left;">
                            <b>Munir Khakhi</b><br>
                            Head of Engineering at Improwised Technologies<br>
                            Local community speaker<br>
                            OSS contributor
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; margin-top: 20px;">
                        <img src="./img/munir.jpg" alt="Munir Khakhi"
                            style="width: 100px; border-radius: 8px; margin-right: 20px;" />
                        <div style="font-size: 22px; text-align: left;">
                            <b>Chintan Viradiya</b><br>
                            DevOps Engineer at Improwised Technologies.<br>
                            I focus on IaaC, managing CI/CD pipelines, and optimizing cloud deployments.<br>
                            Committed to enhancing system performance, and developer productivity.
                        </div>
                    </div>
                </section>
            </section>
            <!-- Icebreaker -->
            <section>
                <h4>How many of you have used Podman/Docker?</h4>
            </section>
            <!-- Agenda -->
            <section>
                <h3>Agenda</h3>
                <ul class="content">
                    <li>Introduction to Podman</li>
                    <li>Why Podman?</li>
                    <li>VM vs Container</li>
                    <li>Podman Architecture</li>
                    <li>Installation</li>
                    <li>Images and Containers</li>
                    <li>Basic Podman Commands</li>
                    <li>Containerfile</li>
                    <li>Podman Compose</li>
                    <li>Local Development with Podman</li>
                    <li>Podman Networking</li>
                    <li>Podman Volumes (Volumes vs Bind Mounts)</li>
                    <li>Demo: <a href="https://github.com/Improwised/laravel-horizon-demo">Laravel Horizon Demo</a>
                    </li>
                    <li>Summary</li>
                    <li>Q&A</li>
                    <li>Feedback</li>
                </ul>
            </section>
            <!-- VM vs Container -->
            <section>
                <h3>VM vs Container</h3>
                <img src="./img/containers.png" alt="VMs vs Containers" style="background-color: gray;">
                <p class="content">Virtual Machines emulate entire operating systems, while containers share the
                    host OS kernel and isolate application processes, making them more lightweight and efficient.
                </p>
                <aside class="notes">
                    Discuss the differences between VMs and containers, emphasizing how containers are more
                    resource-efficient and faster to start up.
                    Explain what is Kernel and how containers share the host OS kernel.
                    Kernel is the core part of an operating system that manages hardware and software resources.
                    Containers run on the host OS kernel, allowing them to be lightweight and fast.
                    Containers are fast because they share the host OS kernel, eliminating the need for a full OS boot.
                    Boot is the process of starting up an operating system, which can take time in VMs.
                </aside>
            </section>
            <section>
                <!-- Introduction to Podman -->
                <section>
                    <h3>Introduction to Podman</h3>
                    <ul class="content">
                        <li>Podman is a daemonless container engine for developing, managing, and running OCI
                            containers.</li>
                        <li>It provides a CLI similar to Docker but does not require a central daemon.</li>
                        <li>Podman supports rootless containers, enhancing security.</li>
                        <li>Podman can directly replace Docker commands in most cases.</li>
                    </ul>
                </section>

                <!-- Why Podman -->
                <section>
                    <h3>Why Podman?</h3>
                    <ul class="content">
                        <li>Daemonless architecture for better security and flexibility.</li>
                        <li>Rootless containers for enhanced security.</li>
                        <li>Compatible with Docker CLI commands.</li>
                        <li>Lightweight and efficient container management.</li>
                    </ul>
                    <aside class="notes">
                        Explain how Podman eliminates the need for a central daemon, making it more secure and flexible.
                        Highlight its compatibility with Docker commands and rootless container support.
                    </aside>
                </section>
            </section>
            <!-- Podman Architecture -->
            <section>
                <section>
                    <h3>Podman Architecture</h3>
                    <p class="content">Docker uses a client-server architecture. The Docker client talks to the Docker
                        daemon, which does the heavy lifting of building, running, and distributing your Docker
                        containers</p>
                    </p>
                </section>
                <section>
                    <h3>Podman Architecture</h3>
                    <img src="./img/podman-arch.png" alt="Podman Architecture" style="width: 50%;">
                </section>
            </section>

            <!-- Installation -->
            <section>
                <h3>Installation</h3>
                <ul class="content">
                    <li>Windows/Mac: Install <a href="https://podman-desktop.io/">Podman Desktop</a>.</li>
                    <li>Linux: Install Podman using package managers like apt or pacman.</li>
                    <li>Verify installation with <code>podman --version</code>.</li>
                </ul>
                <aside class="notes">
                    Explain the installation process for different operating systems, highlighting the ease of use
                    with Podman Desktop for Windows and Mac.
                    Mention that Linux users can install Podman using their package manager.
                </aside>
            </section>

            <!-- Images and Containers -->
            <section>
                <h3>Images and Containers</h3>
                <p class="content">Podman images are blueprints for containers, while containers are runtime
                    instances of images.</p>
                <!-- Build time and runtime -->
                <p class="content">Images are built using Containerfile, which define the environment and
                    dependencies for the application. Containers are created from these images and run the
                    application.</p>
                <p class="content">Images are immutable, meaning they do not change once created, while containers can
                    be
                    started, stopped, and modified.</p>
                <p class="content">Images are stored in a registry, such as Docker Hub, and can be pulled to create
                    containers on any host with Podman installed.</p>
                <p class="content">You can build multiple containers with different configurations from the same
                    image, allowing for flexibility in deployment.</p>
            </section>

            <!-- Basic Podman Commands -->
            <section>
                <h3>Basic Podman Commands</h3>
                <pre><code class="hljs bash" data-trim data-line-numbers>
        podman run hello-world
        podman ps
        podman run -dt -p 8080:80/tcp docker.io/library/httpd
    </code></pre>
            </section>

            <!-- Containerfile -->
            <section>
                <section>
                    <h3>Containerfile</h3>
                    <p class="content">A Containerfile is similar to a Dockerfile and contains instructions to build a
                        container image.</p>
                    <p class="content">Example Containerfile:</p>
                    <pre><code class="hljs dockerfile" data-trim data-line-numbers>
            FROM improwised/php-base:8.2-s6
            RUN mkdir -p /app && chown -R nginx:nginx /app
    
            COPY composer.* /app/
    
            WORKDIR /app
            RUN php -d memory_limit=1024M /usr/bin/composer install --no-scripts --no-autoloader
    
            COPY . .
    
            RUN php -d memory_limit=1024M /usr/bin/composer dump-autoload --optimize    
        </code></pre>
                </section>
                <section>
                    <p class="content">To Run container:</p>
                    <pre><code class="hljs dockerfile" data-trim data-line-numbers>
                        podman build -t laravel-horizon .
                        podman run -it --rm -p 9000:9000 --name laravel-horizon --env-file .env laravel-horizon /bin/sh -c "set -e && php artisan serve --host 0.0.0.0 --port 9000"
                    </code></pre>
                </section>
            </section>
            <!-- podman run -it --rm -p 9000:9000 --name laravel-horizon --env-file .env laravel-horizon /bin/sh -c "set -e && php artisan serve --host 0.0.0.0 --port 9000" -->
            <!-- Podman Compose -->
            <section>
                <section>
                    <h3>Podman Compose</h3>
                    <p class="content">Podman Compose is useful for defining and running multi-container Podman
                        applications.</p>
                    <p class="content">It allows you to define services, networks, and volumes in a single file, similar to
                        Docker Compose.</p>
                </section>
                <section>
                    <h3>Podman Compose</h3>
                    <pre><code class="hljs dockerfile" data-trim data-line-numbers>
version: '3.8'
services:
  db:
    image: mysql:8.0
    cap_add:
      - SYS_NICE
    restart: always
    environment:
      - MYSQL_DATABASE=quotes
      - MYSQL_ROOT_PASSWORD=mauFJcuf5dhRMQrjj
    ports:
      - '3306:3306'
    volumes:
      - db:/var/lib/mysql
  phpmyadmin:
    depends_on:
      - db
    image: phpmyadmin
    restart: always
    ports:
      - "8090:80"
    environment:
      PMA_HOST: db
      MYSQL_ROOT_PASSWORD: mauFJcuf5dhRMQrjj

volumes:
  db:
    driver: local
                    </code></pre>
                </section>
            </section>

            <!-- Local Development -->
            <section>
                <h3>Local Development with Podman</h3>
                <p class="content">Use Podman to create isolated environments for development, testing, and
                    debugging.</p>
            </section>

            <!-- Networking -->
            <section>
                <h3>Podman Networking</h3>
                <p class="content">Podman provides networking capabilities to connect containers and manage
                    communication.</p>
            </section>

            <!-- Volumes -->
            <section>
                <h3>Docker Volumes</h3>
                <p class="content">Volumes persist data independently of container lifecycle, while bind mounts map
                    host files into containers.</p>
            </section>

            <!-- Demo -->
            <section>
                <h3>Demo</h3>
                <p class="content">Explore the Laravel Horizon Demo: <a
                        href="https://github.com/Improwised/laravel-horizon-demo">GitHub Repository</a>.</p>
            </section>

            <!-- Summary -->
            <section>
                <h3>Summary</h3>
                <p class="content">You don't need to install anything on your local machine to run the demo.
                    Just run <code>podman-compose up</code> and you are good to go.</p>
                <p class="content">This keeps your system clean and less resource-intensive.</p>
            </section>

            <!-- Q&A -->
            <section>
                <h3>Q&A</h3>
                <p class="content">Feel free to ask any questions or seek clarifications on the topics covered.</p>
            </section>

            <!-- Feedback -->
            <section>
                <a href="https://i8d.in/containers-feedback" class="content">https://i8d.in/containers-feedback</a>
                <p class="content" style="text-align: center;">We value your <a href="https://i8d.in/containers-feedback">feedback</a> to improve future workshops.</p>
                <img src="./img/feedback.jpg" alt="Feedback" style="width: 50%; margin-top: 20px;">
                
            </section>

            <!-- Quiz -->
            <section>
                <h3>Quiz Session</h3>
                <p class="content">Test your knowledge with a fun quiz!</p>
            </section>
        </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
        hljs.registerLanguage('dockerfile', function (hljs) {
            hljs.highlightAll();
            return hljs.getLanguage('dockerfile');
        });
    </script>
    <script>
        Reveal.initialize({
            hash: true,
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });
    </script>
</body>

</html>